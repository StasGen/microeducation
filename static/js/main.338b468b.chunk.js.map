{"version":3,"sources":["App.tsx","ImageControl.tsx","Rating.tsx","RatingControl.tsx","ratingControlTester.ts","index.tsx"],"names":["s","MaterialTextControl","Unwrapped","imageControlTester","rankWith","and","isStringControl","scopeEndsWith","withJsonFormsControlProps","props","schema","Grid","container","style","maxWidth","src","data","Rating","id","value","updateValue","useState","hoverAt","setHoverAt","className","InputLabel","shrink","marginTop","cursor","fontSize","map","i","fullStars","onMouseOver","onMouseOut","onClick","handleChange","path","newValue","handleDefaultsAjv","createAjv","useDefaults","useStyles","makeStyles","episodeDescription","textAlign","overflowY","textOverflow","display","storyDescription","fauxButton","textTransform","padding","width","height","title","dataContent","overflow","justifyContent","borderRadius","backgroundColor","marginBottom","maxHeight","resetButton","margin","demoform","initialData","renderers","materialRenderers","tester","ratingControlTester","renderer","RatingControl","imageControl","App","classes","setData","stringifiedData","useMemo","JSON","stringify","preview","params","setParams","console","log","displayBound","setDisplayBound","renderCourses","courses","c","currentParams","item","Button","course","episode","Card","sx","raised","CardMedia","component","image","card","imageURL","alt","CardContent","Typography","gutterBottom","variant","color","description","episodes","length","renderEpisodes","courseNumber","e","stories","renderStories","episodeNumber","content","illustrationURL","header","text","Preview","direction","xs","Course","Episode","spacing","sm","TextField","multiline","onChange","event","parse","target","uischema","cells","materialCells","errors","formData","positionedData","ep","position","st","j","stringifiedWithGenerationFormData","replaceAll","uuidv4","generationFormData","stringifiedFormData","setDataWithGeneration","ajv","theme","createTheme","components","MuiFormControl","styleOverrides","root","ReactDOM","render","ThemeProvider","CssBaseline","document","getElementById"],"mappings":"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","file":"static/js/main.338b468b.chunk.js","sourcesContent":["\nimport imageControl, {\n  imageControlTester,\n} from './ImageControl';\n\n\nimport { Fragment, useState, useMemo } from 'react';\nimport { JsonForms } from '@jsonforms/react';\nimport Grid from '@mui/material/Grid';\nimport Button from '@mui/material/Button';\nimport Typography from '@mui/material/Typography';\nimport TextField from '@mui/material/TextField';\nimport logo from './logo.svg';\nimport './App.css';\nimport schema from './schema.json';\nimport uischema from './uischema.json';\nimport { UISchemaElement } from '@jsonforms/core';\nimport {\n  materialCells,\n  materialRenderers,\n} from '@jsonforms/material-renderers';\nimport RatingControl from './RatingControl';\nimport ratingControlTester from './ratingControlTester';\nimport { makeStyles } from '@mui/styles';\nimport { createAjv } from '@jsonforms/core';\nimport { Generate } from '@jsonforms/core';\nimport { v4 as uuidv4 } from 'uuid';\nimport React, { useRef, useLayoutEffect, memo } from 'react';\nimport {\n  BrowserRouter,\n  Routes,\n  Route,\n  useLocation,\n  useMatch,\n  useResolvedPath\n} from \"react-router-dom\";\nimport Card from '@mui/material/Card';\nimport CardActions from '@mui/material/CardActions';\nimport CardContent from '@mui/material/CardContent';\nimport CardMedia from '@mui/material/CardMedia';\n\nconst important = <T extends string>(s: T): T => `${s} !important` as T;\n\nconst handleDefaultsAjv = createAjv({useDefaults: true});\n\nconst useStyles = makeStyles({\n  episodeDescription: {\n    textAlign: 'left',\n    overflowY: \"auto\",\n   textOverflow: \"ellipsis\",\n   display: \"-webkit-box\",\n   \"-webkit-line-clamp\": 5, /* number of lines to show */\n           \"line-clamp\": 5, \n   \"-webkit-box-orient\": \"vertical\"\n  },\n  storyDescription: {\n   textAlign: 'left',\n   overflowY: \"auto\",\n   textOverflow: \"ellipsis\",\n   display: \"-webkit-box\",\n   \"-webkit-line-clamp\": 15, /* number of lines to show */\n           \"line-clamp\": 15, \n   \"-webkit-box-orient\": \"vertical\"\n  },\n  fauxButton: {\n    textTransform: important(\"none\")\n  },\n  container: {\n    padding: '1em',\n    width: '100%',\n    height: 'auto'\n  },\n  title: {\n    textAlign: 'left',\n  },\n  dataContent: {\n    overflow: 'auto',\n    display: 'flex',\n    justifyContent: 'left',\n    borderRadius: '0.25em',\n    backgroundColor: '#fefefe',\n    marginBottom: '1rem',\n    maxHeight: '300px',\n    width: '100%'\n  },\n  resetButton: {\n    margin: 'auto !important',\n    display: 'block !important',\n  },\n  demoform: {\n    margin: 'auto',\n    padding: '1rem',\n  },\n});\n\nconst initialData = {};\n\nconst renderers = [\n  ...materialRenderers,\n  //register custom renderers\n  { tester: ratingControlTester, renderer: RatingControl },\n  {\n    tester: imageControlTester,\n    renderer: imageControl,\n  }\n];\n\nconst modifiedData = (s: string):string => {return s.replaceAll(/\\$uuid/g,uuidv4())};\n\nconst App = () => {\n  const classes = useStyles();\n  const [data, setData] = useState<any>(initialData);\n  const stringifiedData = useMemo(() => JSON.stringify(data, null, 2), [data]);\n\n  const setDataWithGeneration = (formData:any) => {\n    let positionedData = formData;\n    if (positionedData.courses) positionedData.courses = positionedData.courses.map((c:any)=>{if (c.episodes) c.episodes.map((ep:any,i:number)=>{ep.position=i; if (ep.stories) ep.stories = ep.stories.map((st:any,j:number)=>{st.position=j; return st}); return ep});return c});\n    let stringifiedWithGenerationFormData = JSON.stringify(positionedData).replaceAll(/\\$uuid/g,uuidv4());\n    let generationFormData = JSON.parse(stringifiedWithGenerationFormData);\n    let stringifiedFormData = JSON.stringify(formData);\n    (stringifiedFormData != stringifiedWithGenerationFormData) ? setData(generationFormData) : setData(formData);\n  }\n\nconst [params, setParams] = useState<any>({preview: false});\n\n\nfunction togglePreview(){\n  params.preview = !params.preview;\n  setParams({...params});\n  \n}\n\nconsole.log(JSON.stringify(params));\n\n  const clearData = () => {\n    setData({});\n  };\n\n  \n\nconst [displayBound, setDisplayBound] = useState<boolean>(true);\nconst toggleJSONView = () => {setDisplayBound(!displayBound)};\n\n// function Main(){\n//   return (\n    \n//   );\n// }\n\nfunction renderCourses(courses:any){\n   if (courses) return ( courses.map((c:any, i:number)=>{\n     let currentParams = params;\n      return(\n        <Grid item>\n\n          <Button className={classes.fauxButton}\n          onClick={()=>{currentParams.course=\"\"+i;currentParams.episode=null;setParams({...currentParams});console.log(currentParams)}}\n          >\n            {/*{c.flowTopic}*/}\n            <Card sx={{ maxWidth: 345 }} raised={i==params.course}>\n      <CardMedia\n        component=\"img\"\n        height=\"140\"\n        image={c.card.imageURL}\n        alt=\"green iguana\"\n      />\n      <CardContent>\n        <Typography gutterBottom variant={'h6'} className={classes.title} component=\"div\">\n          {c.card.title}\n        </Typography>\n        <Typography variant={'body1'} className={classes.title} color=\"text.secondary\">\n          {c.card.description}\n        </Typography>\n        <Typography variant={'body2'} className={classes.title} color=\"text.secondary\">\n          Episodes: {c.episodes?.length||0}\n        </Typography>\n      </CardContent>\n    </Card>\n          </Button>\n\n            </Grid>\n        );\n    })\n   );\n}\n\nfunction renderEpisodes(episodes:any, courseNumber:string){    \n  let currentParams = params;\n   if (episodes) return ( episodes.map((e:any, i:number)=>{\n      return(\n        <Grid item>\n\n          <Button className={classes.fauxButton}\n          onClick={()=>{currentParams.episode=\"\"+i;setParams({...currentParams});console.log(currentParams)}}\n          >\n            \n\n            <Card sx={{ maxWidth: 345 }} raised={i==params.episode}>\n      <CardContent>\n        <Typography gutterBottom variant={'h6'} className={classes.title} component=\"div\">\n          {e.title}\n        </Typography>\n        <Typography variant={'caption'} className={classes.episodeDescription} color=\"text.secondary\">\n          {e.description}\n        </Typography>\n        <Typography variant={'caption'} className={classes.title} color=\"text.secondary\">\n          Stories: {e.stories?.length||0}\n        </Typography>\n      </CardContent>\n    </Card>\n          </Button>\n\n            </Grid>\n        );\n    })\n   );\n}\n\nfunction renderStories(stories:any, episodeNumber:string){    \n   if (stories) return ( stories.map((s:any, i:number)=>{\n      return(\n        <Grid item>\n          <Button className={classes.fauxButton}>\n            {/*{s.id}*/}\n            <Card sx={{ maxWidth: 250 }}>\n      <CardMedia\n        component=\"img\"\n        height=\"200\"\n        image={s.content.illustrationURL}\n        alt=\"green iguana\"\n      />\n      <CardContent>\n        <Typography gutterBottom variant={'h6'} className={classes.title} component=\"div\">\n          {s.content.header}\n        </Typography>\n        <Typography variant={'caption'} className={classes.storyDescription} color=\"text.secondary\">\n          {s.content.text}\n        </Typography>\n      </CardContent>\n    </Card>\n          </Button>\n            </Grid>\n        );\n    })\n   );\n}\n\nfunction Preview(){\n  let courses = data.courses;\n  console.log(courses);\n   return (\n       <Grid container direction=\"row\" xs={12}>\n      {/*<a> {JSON.stringify(courses, null, 2)} </a>*/}\n      \n      <Grid container>\n      <a> {JSON.stringify(params)} </a>\n      </Grid>\n      <Grid\n      item\n      direction=\"column\"\n      xs={2}\n      >\n      {renderCourses(courses)}\n      </Grid>\n      <Grid\n      item\n      direction=\"column\"\n      xs={2}\n      >\n      <Course/>\n      </Grid>\n      <Grid\n      item\n      direction=\"column\"\n      xs={8}\n      >\n      <Episode/>\n      </Grid>\n      \n</Grid>\n   );\n\n\n\n}\n\nfunction Course(){\n  let currentParams = params;\n  console.log(\"cp:\"+JSON.stringify(currentParams));\n  if (currentParams.course){ \n  let {episodes} = data.courses[currentParams.course||0];\n  console.log(episodes);\n   if (currentParams.course) return (\n <Grid>\n    {/* <a> {JSON.stringify(episodes, null, 2)} </a> */}\n    <Grid\n    container\n    direction=\"column\"\n    >\n    {!!params.course?renderEpisodes(episodes,currentParams.course):null}\n    </Grid>\n    </Grid>\n   );\n }\n    return(null);\n\n\n\n}\n\nfunction Episode(){\n  console.log(params);\n  if (params.episode&&params.course){  \n  let stories = data.courses[params.course||0].episodes[params.episode||0]!.stories;\n  console.log(stories);\n   return (\n <Grid>\n    {/* <a> {JSON.stringify(stories, null, 2)} </a>/ */}\n    <Grid\n    item\n    direction=\"row\"\n    container\n    >\n    {renderStories(stories,params.episode)}\n    </Grid>\n    </Grid>\n   );\n }\n    return(null);\n\n\n\n}\n\n\nreturn (\n\n<Fragment>\n<Grid container direction=\"row\">\n      <Grid\n        // container\n        item\n        direction=\"column\"\n        justifyContent=\"center\"\n        spacing={2}\n        className={classes.container}\n        xs={params.preview?4:12}\n      >\n        <Grid item sm={6}>\n          {displayBound && <Typography variant={'h4'} className={classes.title}>\n            JSON\n          </Typography>}\n           {displayBound &&  <TextField\n            className={classes.dataContent}\n            id='boundData'\n            multiline\n            variant=\"outlined\" \n            value={stringifiedData}\n            onChange={(event)=>{ setData(JSON.parse(event.target.value));}}\n            >\n            </TextField> }\n          <Grid\n          container\n          justifyContent=\"center\"\n          direction=\"row\"\n          spacing={2}\n          >\n          <Grid item>\n          <Button\n            onClick={clearData}\n            color='primary'\n            variant='contained'\n          >\n            Clear data\n          </Button>\n          </Grid>\n          <Grid item>\n          <Button\n            onClick={toggleJSONView}\n            color='secondary'\n            variant='contained'\n          >\n            {!displayBound?'Show':'Hide'} JSON\n          </Button>\n          </Grid>\n          <Grid item>\n\n          <Button\n            color='success'\n            variant='contained'\n            onClick={togglePreview}\n          >\n            Preview\n          </Button>\n\n          </Grid>\n          </Grid>\n        </Grid>\n        <Grid\n        item\n        xs\n        >\n          <Typography variant={'h4'} className={classes.title}>\n            MicroEd Form\n          </Typography>\n          {!params.preview && <div className={classes.demoform}>\n            <JsonForms\n              schema={schema}\n              uischema={uischema}\n              data={data}\n              renderers={renderers}\n              cells={materialCells}\n              onChange={({ errors, data }) => {\n               setDataWithGeneration(data);\n              }}\n              ajv={handleDefaultsAjv}\n            />\n          </div>}\n        </Grid>\n      </Grid>\n      <Grid\n      item\n      // container\n      direction=\"row\"\n      xs={8}>\n      {params.preview&&<Preview />}\n      </Grid>\n      </Grid>\n    </Fragment>\n\n  );\n{/*return (\n    <BrowserRouter>\n      <Routes>\n        <Route path=\"/\" element={\n<Fragment>\n      <Grid\n        container\n        direction=\"column\"\n        justifyContent=\"center\"\n        spacing={2}\n        className={classes.container}\n      >\n        <Grid item sm={6}>\n          {displayBound && <Typography variant={'h4'} className={classes.title}>\n            JSON\n          </Typography>}\n           {displayBound &&  <TextField\n            className={classes.dataContent}\n            id='boundData'\n            multiline\n            variant=\"outlined\" \n            value={stringifiedData}\n            onChange={(event)=>{ setData(JSON.parse(event.target.value));}}\n            >\n            </TextField> }\n          <Grid\n          container\n          justifyContent=\"center\"\n          direction=\"row\"\n          spacing={2}\n          >\n          <Grid item>\n          <Button\n            onClick={clearData}\n            color='primary'\n            variant='contained'\n          >\n            Clear data\n          </Button>\n          </Grid>\n          <Grid item>\n          <Button\n            onClick={toggleJSONView}\n            color='secondary'\n            variant='contained'\n          >\n            {!displayBound?'Show':'Hide'} JSON\n          </Button>\n          </Grid>\n          <Grid item>\n          <Link to=\"preview\" style={{ textDecoration: 'none' }}>\n          <Button\n            color='secondary'\n            variant='contained'\n          >\n            Preview\n          </Button>\n          </Link>\n          </Grid>\n          </Grid>\n        </Grid>\n        <Grid item sm={6}>\n          <Typography variant={'h4'} className={classes.title}>\n            MicroEd Form\n          </Typography>\n          <div className={classes.demoform}>\n            <JsonForms\n              schema={schema}\n              uischema={uischema}\n              data={data}\n              renderers={renderers}\n              cells={materialCells}\n              onChange={({ errors, data }) => {\n               setDataWithGeneration(data);\n              }}\n              ajv={handleDefaultsAjv}\n            />\n          </div>\n        </Grid>\n      </Grid>\n    </Fragment>\n        } />\n        <Route path=\"/preview\" element={<Preview />} />\n        <Route path=\"/preview/:course/\">\n          <Route path=\":episode\" element={<Preview />} />\n          <Route path=\"\" element={<Preview />} />\n        </Route>\n      </Routes>\n    </BrowserRouter>\n  );\n*/}\n\n};\n\n\nexport default App;\n","import {\n  JsonSchema,\n  ControlProps,\n  isStringControl,\n  RankedTester,\n  rankWith,\n  schemaMatches,\n  scopeEndsWith,\n  and,\n} from '@jsonforms/core';\nimport { Grid, Typography } from '@mui/material';\nimport { Unwrapped } from '@jsonforms/material-renderers';\nimport { withJsonFormsControlProps } from '@jsonforms/react';\nconst { MaterialTextControl } = Unwrapped;\n\n\nexport const imageControl = (props: ControlProps) => {\n\tconst schema = props.schema as JsonSchema;\n  return (\n    <Grid container>\n\n        <img style={{ maxWidth: 250 }} src={props.data}></img>\n        <MaterialTextControl {...props}/>\n\n    </Grid>\n  );\n};\n\n\nexport const imageControlTester: RankedTester = rankWith(\n  5,\n  and(\n    isStringControl,\n    scopeEndsWith('URL')\n  )\n);\nexport default withJsonFormsControlProps(imageControl);","import React from 'react';\nimport { useState } from 'react';\nimport { InputLabel } from '@mui/material';\n\ninterface RatingProps {\n  id?: string;\n  value: number;\n  updateValue: (newValue: number) => void;\n}\n\nexport const Rating: React.FC<RatingProps> = ({ id, value, updateValue }) => {\n  const [hoverAt, setHoverAt] = useState<number | null>(null);\n\n  return (\n    <div id='#/properties/rating' className='rating'>\n      <InputLabel shrink style={{ marginTop: '0.8em' }}>Rating</InputLabel>\n      <div style={{ cursor: 'pointer', fontSize: '18px' }}>\n        {[0, 1, 2, 3, 4].map((i) => {\n          const fullStars = hoverAt ?? value;\n\n          return (\n            <span\n              onMouseOver={() => setHoverAt(i + 1)}\n              onMouseOut={() => setHoverAt(null)}\n              onClick={() => updateValue(i + 1)}\n              key={`${id}_${i}`}\n            >\n              {i < fullStars ? '\\u2605' : '\\u2606'}\n            </span>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n","import { withJsonFormsControlProps } from '@jsonforms/react';\nimport { Rating } from './Rating';\n\ninterface RatingControlProps {\n  data: any;\n  handleChange(path: string, value: any): void;\n  path: string;\n}\n\nconst RatingControl = ({ data, handleChange, path }: RatingControlProps) => (\n  <Rating\n    value={data}\n    updateValue={(newValue: number) => handleChange(path, newValue)}\n  />\n);\n\nexport default withJsonFormsControlProps(RatingControl);\n","import { rankWith, scopeEndsWith } from '@jsonforms/core';\n\nexport default rankWith(\n  3, //increase rank as needed\n  scopeEndsWith('rating')\n);\n","import { createTheme, CssBaseline, ThemeProvider } from '@mui/material';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n/**\n * Customize form so each control has more space\n */\nconst theme = createTheme({\n  components: {\n    MuiFormControl: {\n      styleOverrides: {\n        root: {\n          margin: '0.8em 0',\n        },\n      }\n    },\n  },\n});\n\nReactDOM.render(\n  <ThemeProvider theme={theme}>\n    <CssBaseline />\n    <App />\n  </ThemeProvider>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}